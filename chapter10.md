## vim程序编辑器

#### vi的使用

------

vi共分为3种模式，分别为一般模式、编辑模式、命令行模式，其中编辑模式与命令行模式不可互相切换。

- 一般模式：光标移动，删除字符，删除整行，复制整行，粘贴整行
- 编辑模式：以插入或替换来编辑文件内容
- 命令行模式：读取/保存，其他额外功能

|    一般模式：按键     |                     效果                     |
| :-------------------: | :------------------------------------------: |
|      [Ctrl]+[f]       |      屏幕向下移动一页，相当于Page Down       |
|      [Ctrl]+[b]       |       屏幕向上移动一页，相当于Page Up        |
|       0或[Home]       |           移动到此行最前面的字符处           |
|       $或[End]        |           移动到此行最后面的字符处           |
|           G           |             移动到文件的最后一行             |
|          nG           |                 移动到第n行                  |
|          gg           |            移动到第1行，相当于1G             |
|       n[Enter]        |                 向下移动n行                  |
|         /word         |          向下查找名为“word”的字符串          |
|           n           |              重复前一个查找操作              |
| :n1,n2s/word1/word2/g | 在第n1行于n2行之间寻找word1，将其替换为word2 |
|  :1,$s/word1/word2/g  |          类比上面，第一行到最后一行          |
| :1,$s/word1/word2/gc  |    类比上面，替换前需要用户确认(confirm)     |
|         x，X          |     x向后删除[Del]，X向前删除[Backspace]     |
|          dd           |                删除光标所在行                |
|          ndd          |            删除光标所在的向下n行             |
|          yy           |                复制光标所在行                |
|          nyy          |            复制光标所在的向下n行             |
|         p，P          |     p粘贴在光标下一行，P粘贴在光标上一行     |
|           u           |                     撤销                     |
|       [Ctrl]+r        |                重复上一个操作                |



| 编辑模式：按键 |                             效果                             |
| :------------: | :----------------------------------------------------------: |
|      i，I      | 进入插入模式：i从目前光标处插入，I从目前行的第一个非空格符处开始插入 |
|      a，A      | 进入插入模式：a从目前光标下一个字符处插入，A从目前行的最后一个字符处插入 |
|      o，O      | 进入插入模式：o从目前光标下一行插入新的一行，O从上一行插入新的一行 |
|      r，R      | 进入替换模式：r替换光标所在字符一次，R会一直替换直到按下[Ese] |



| 命令行模式：按键 |            效果            |
| :--------------: | :------------------------: |
|        :w        |    将编辑的数据写入硬盘    |
|        :q        |           离开vi           |
|       :wq        | 保存后离开，:wq!为强制保存 |
|       :q!        |      强制离开，不保存      |
|   :w[filename]   |           另存为           |



#### vim的功能

------

##### 1.块选择

##### 2.多文件编辑

##### 3.多窗口功能

​		命令行模式：`:sp{filename}`,可以出现两个窗口

​		[ctrl]+w+⬇：移动到下方窗口

​		[ctrl]+w+⬆：移动到上方窗口

​		[ctrl]+w+q：退出当前窗口

##### 4.vim环境设置与记录

- **~/.vimrc**：设置配置文件，可先新建
- **~/.viminfo**：操作记录