## 正则表达式

正则表达式（Regular Expression），是一种处理字符串的方法，以行为单位来进行字符串的处理行为，通过一些特殊符号的辅助，让用户轻易地查找、删除、替换某特定的字符串。



#### 基础正则表达式

------

##### 1.重要的特殊符号（LANG=C）

| 特殊符号  | 意义                            |
| --------- | ------------------------------- |
| [:alnum:] | 英文大小写与数字，0-9，A-Z，a-z |
| [:alpha:] | 英文大小写，A-Z，a-z            |
| [:digit:] | 数字，0-9                       |
| [:lower:] | 小写字母，a-z                   |
| [:upper:] | 大写字母，A-Z                   |



##### 2.grep进阶

```
[root@xjh]# grep [-A] [-B] [--color=auto] '搜寻字符串' filename
```

- -A，after，列出后续的n行

- -B，before，列出前面的n行



##### 3.常用正则字符:yum:

| RE字符     | 意义                                                         |
| ---------- | ------------------------------------------------------------ |
| ^word      | 待查找的字符串（word）在行首                                 |
| word$      | 待查找的字符串（word）在行尾                                 |
| .          | 代表一定有一个任意字符                                       |
| \          | 转义字符                                                     |
| *          | 重复零个到无穷多个前一个字符                                 |
| [list]     | 从字符集合的RE字符里找出想要选取的字符                       |
| [n1-n2]    | 从字符集合的RE字符里找出想要选取的字符范围                   |
| [^list]    | 从字符集合的RE字符里找出不要的字符串或范围                   |
| \\{(n,m\\} | 连续n到m个的前一个RE字符，若\\{n\\}则是连续n个；若为\\{n,\\}则为连续n个或n个以上 |



##### 4.sed工具（待补充）

```
[root@xjh]# sed [-nefr] [动作]
```



#### 扩展正则表达式

------

| RE字符 | 意义                                                      |
| ------ | --------------------------------------------------------- |
| +      | 重复**一个**或**一个以上**前一个RE字符                    |
| ？     | 重复**零个**或**一个**前一个RE字符                        |
| \|     | 用or的方式找出字符串                                      |
| ()     | 找出”组“字符串   例如：g(la\|00)d，glad和good首尾是相同的 |
| ()+    | 多个重复组的判别                                          |



#### 文件处理

------

##### 1.awk工具

```
[root@xjh]# awk '条件类型1{动作1} 条件类型2{动作2} ……' filename
[root@xjh]# last -n 5 | awk '{print $1 "\t" $3}'	//取出账号与登陆者ip（1和3列） 并以[tab]隔开
```



##### 2.文件比较工具

- diff 以”行“为单位进行比较

```
[root@xjh]# diff [-bBi] from-file to-file
```

- cmp 以”字节“为单位进行比较

```
[root@xjh]# cmp [-s] file1 file2
```

- patch 将两个文件diff后，生成补丁文件，可进行更新或者还原

```
[root@xjh]# patch -pN < patch_file  //更新
[root@xjh]# patch -R -pN < patch_file //还原
```

